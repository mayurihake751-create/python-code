class Node:
    def __init__(self, roll, name, marks):
        self.roll = roll
        self.name = name
        self.marks = marks
        self.next = None


class StudentLinkedList:
    def __init__(self):
        self.head = None

    def addStudent(self, roll, name, marks):
        new_node = Node(roll, name, marks)
        new_node.next = self.head
        self.head = new_node

    def deleteStudent(self, roll):
        temp = self.head
        prev = None
        while temp and temp.roll != roll:
            prev = temp
            temp = temp.next
        if not temp:
            print("Student not found.")
            return
        if prev:
            prev.next = temp.next
        else:
            self.head = temp.next
        print(f"Deleted record for Roll No {roll}.")

    def updateStudent(self, roll, new_name=None, new_marks=None):
        temp = self.head
        while temp:
            if temp.roll == roll:
                if new_name: temp.name = new_name
                if new_marks is not None: temp.marks = new_marks
                print(f"Updated record for Roll No {roll}.")
                return
            temp = temp.next
        print("Student not found.")

    def searchStudent(self, roll):
        temp = self.head
        while temp:
            if temp.roll == roll:
                print(f"Found: Roll {temp.roll}, Name: {temp.name}, Marks: {temp.marks}")
                return
            temp = temp.next
        print("Student not found.")

    def display(self, order_by="roll", ascending=True):
        students = []
        temp = self.head
        while temp:
            students.append((temp.roll, temp.name, temp.marks))
            temp = temp.next
        key_index = 0 if order_by == "roll" else 2
        students.sort(key=lambda x: x[key_index], reverse=not ascending)
        print("\nStudent Records:")
        for s in students:
            print(f"Roll: {s[0]}, Name: {s[1]}, Marks: {s[2]}")


# --- Example usage ---
s = StudentLinkedList()
s.addStudent(1, "Alice", 85)
s.addStudent(2, "Bob", 75)
s.display(order_by="marks", ascending=False)
s.updateStudent(1, new_marks=90)
s.display()
